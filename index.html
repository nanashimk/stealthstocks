<script type="text/babel">
  // Pages
  function Home() { return <h1>ğŸ  Accueil</h1>; }
  function About() { return <h1>â„¹ï¸ Ã€ propos</h1>; }
  function Cart() { return <h1>ğŸ›’ Panier</h1>; }
  function Checkout() { return <h1>ğŸ’³ Paiement</h1>; }

  const PAGES = { home: Home, about: About, cart: Cart, checkout: Checkout };

  // Gestion du "routing" avec le hash (#)
  function useHashRoute() {
    const [hash, setHash] = React.useState(() => window.location.hash.slice(1) || "home");
    React.useEffect(() => {
      const onHashChange = () => setHash(window.location.hash.slice(1) || "home");
      window.addEventListener("hashchange", onHashChange);
      return () => window.removeEventListener("hashchange", onHashChange);
    }, []);
    return hash;
  }

  function App() {
    const route = useHashRoute();
    const Page = PAGES[route] || Home;

    const NavButton = ({to, label}) => (
      <a href={`#${to}`} className={`btn ${route === to ? "active" : ""}`}>
        {label}
      </a>
    );

    return (
      <>
        <main style={{maxWidth:"800px",margin:"0 auto",paddingBottom:"90px"}}>
          <Page />
        </main>
        <nav className="nav">
          <NavButton to="home" label="Home" />
          <NavButton to="about" label="About" />
          <NavButton to="cart" label="Cart" />
          <NavButton to="checkout" label="Checkout" />
        </nav>
      </>
    );
  }

  const root = ReactDOM.createRoot(document.getElementById("root"));
  root.render(<App />);
</script>
